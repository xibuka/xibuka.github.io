<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>[OpenShift]Quick install OpenShift to multi nodes | Wenhan blog</title><meta name=keywords content="Linux,OpenShift">
<meta name=description content="In this article we will show you how to install OpenShift in mutliple nodes using a quick install command, atomic-openshift-installer, which is powered by ansible.
Host preparation I use under virtual machines for OpenShift nodes to deploy
   Type CPU Mem HDD hostname OS     Master 1 2 GB 20 GB master.example.com RHEL 7   node 1 2 GB 20 GB node1.example.com RHEL 7   node 1 2 GB 20 GB node2.">
<meta name=author content="Me">
<link rel=canonical href=https://wenhan.blog/post/openshift-use-ansible-to-install-openshift-to-multi-nodes/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href="https://media.licdn.com/dms/image/C4D03AQHsFHxbDCgPsA/profile-displayphoto-shrink_400_400/0/1517015003915?e=1683763200&v=beta&t=PR0k2MbOHcJjtozRAQipgSz2CGprYxywDGgXInkOXmo">
<link rel=icon type=image/png sizes=16x16 href=https://wenhan.blog/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://wenhan.blog/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://wenhan.blog/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://wenhan.blog/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-K59H8WV6V0"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-K59H8WV6V0")</script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-87273435-2","auto"),ga("send","pageview"))</script><meta property="og:title" content="[OpenShift]Quick install OpenShift to multi nodes">
<meta property="og:description" content="In this article we will show you how to install OpenShift in mutliple nodes using a quick install command, atomic-openshift-installer, which is powered by ansible.
Host preparation I use under virtual machines for OpenShift nodes to deploy
   Type CPU Mem HDD hostname OS     Master 1 2 GB 20 GB master.example.com RHEL 7   node 1 2 GB 20 GB node1.example.com RHEL 7   node 1 2 GB 20 GB node2.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://wenhan.blog/post/openshift-use-ansible-to-install-openshift-to-multi-nodes/"><meta property="og:image" content="https://wenhan.blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post">
<meta property="article:published_time" content="2017-07-07T15:32:15+00:00">
<meta property="article:modified_time" content="2017-07-07T15:32:15+00:00"><meta property="og:site_name" content="Wenhan blog">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://wenhan.blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="[OpenShift]Quick install OpenShift to multi nodes">
<meta name=twitter:description content="In this article we will show you how to install OpenShift in mutliple nodes using a quick install command, atomic-openshift-installer, which is powered by ansible.
Host preparation I use under virtual machines for OpenShift nodes to deploy
   Type CPU Mem HDD hostname OS     Master 1 2 GB 20 GB master.example.com RHEL 7   node 1 2 GB 20 GB node1.example.com RHEL 7   node 1 2 GB 20 GB node2.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wenhan.blog/post/"},{"@type":"ListItem","position":2,"name":"[OpenShift]Quick install OpenShift to multi nodes","item":"https://wenhan.blog/post/openshift-use-ansible-to-install-openshift-to-multi-nodes/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[OpenShift]Quick install OpenShift to multi nodes","name":"[OpenShift]Quick install OpenShift to multi nodes","description":"In this article we will show you how to install OpenShift in mutliple nodes using a quick install command, atomic-openshift-installer, which is powered by ansible.\nHost preparation I use under virtual machines for OpenShift nodes to deploy\n   Type CPU Mem HDD hostname OS     Master 1 2 GB 20 GB master.example.com RHEL 7   node 1 2 GB 20 GB node1.example.com RHEL 7   node 1 2 GB 20 GB node2.","keywords":["Linux","OpenShift"],"articleBody":"In this article we will show you how to install OpenShift in mutliple nodes using a quick install command, atomic-openshift-installer, which is powered by ansible.\nHost preparation I use under virtual machines for OpenShift nodes to deploy\n   Type CPU Mem HDD hostname OS     Master 1 2 GB 20 GB master.example.com RHEL 7   node 1 2 GB 20 GB node1.example.com RHEL 7   node 1 2 GB 20 GB node2.example.com RHEL 7    Host Registration Note: If you are using other OS but not RHEL, Please go to [# Install necessary packages](# Install necessary packages) to install the packages. If you can not install some of them, try to add some repos or get the rpm file.\nRegister each host with RHSM(Red Hat Subscription Manager) to access the required packages.\n  Register with RHSM for each host:\n1  # subscription-manager register --username= --password=     List the available OpenShift subscriptions:\n1  # subscription-manager list --available --matches '*OpenShift*'     Find pool ID for an OpenShift Container Platform subscription and attach it.\n1  # subscription-manager attach --pool=     Disable all repositories and enable only the repositories required by OpenShift Container Platform 3.5\n1 2 3 4 5 6 7  # subscription-manager repos --disable=\"*\" # yum-config-manager --disable \\* # subscription-manager repos \\ --enable=\"rhel-7-server-rpms\" \\ --enable=\"rhel-7-server-extras-rpms\" \\ --enable=\"rhel-7-server-ose-3.5-rpms\" \\ --enable=\"rhel-7-fast-datapath-rpms\"     Install necessary packages Install the following packages.\n1 2 3 4  # yum -y install wget git net-tools bind-utils iptables-services bridge-utils bash-completion kexec sos psacct # yum update # yum -y install atomic-openshift-utils atomic-openshift-excluder atomic-openshift-docker-excluder # atomic-openshift-excluder unexclude   Install and configure docker Install docker 1  # yum -y install docker   Add parameter to docker configuration file Edit /etc/sysconfig/docker file and add --insecure-registry 172.30.0.0/16 to the OPTIONS parameter.\n1  OPTIONS='--selinux-enabled --insecure-registry 172.30.0.0/16'   Configure Docker Storage Here we use an additional block device for docker storage. In /etc/sysconfig/docker-storage-setup , set DEVS to the path of the disk device. Set VG to the volume group name you wish to create.\n1 2 3 4  # cat /etc/sysconfig/docker-storage-setup DEVS=/dev/vdc VG=docker-vg EOF   Then run docker-storage-setup and check to make sure the docker-vg was created.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39  # docker-storage-setup [5/1868] 0 Checking that no-one is using this disk right now ... OK Disk /dev/vdc: 31207 cylinders, 16 heads, 63 sectors/track sfdisk: /dev/vdc: unrecognized partition table type Old situation: sfdisk: No partitions found New situation: Units: sectors of 512 bytes, counting from 0 Device Boot Start End #sectors Id System /dev/vdc1 2048 31457279 31455232 8e Linux LVM /dev/vdc2 0 - 0 0 Empty /dev/vdc3 0 - 0 0 Empty /dev/vdc4 0 - 0 0 Empty Warning: partition 1 does not start at a cylinder boundary Warning: partition 1 does not end at a cylinder boundary Warning: no primary partition is marked bootable (active) This does not matter for LILO, but the DOS MBR will not boot this disk. Successfully wrote the new partition table Re-reading the partition table ... If you created or changed a DOS partition, /dev/foo7, say, then use dd(1) to zero the first 512 bytes: dd if=/dev/zero of=/dev/foo7 bs=512 count=1 (See fdisk(8).) Physical volume \"/dev/vdc1\" successfully created Volume group \"docker-vg\" successfully created Rounding up size to full physical extent 16.00 MiB Logical volume \"docker-poolmeta\" created. Logical volume \"docker-pool\" created. WARNING: Converting logical volume docker-vg/docker-pool and docker-vg/docker-poolmeta to pool's data and metadata volumes. THIS WILL DESTROY CONTENT OF LOGICAL VOLUME (filesystem etc.) Converted docker-vg/docker-pool to thin pool. Logical volume \"docker-pool\" changed.   Enable and start docker service. 1 2 3  # systemctl enable docker # systemctl start docker # systemctl is-active docker   Ensure Host Access On each hosts, generate an SSH key WITHOUT a password\n1  # ssh-keygen   Copy the id_rsa.pub to each host:\n1 2 3 4 5  # for host in master.example.com \\ node1.example.com \\ node2.example.com; \\ do ssh-copy-id -i ~/.ssh/id_rsa.pub $host; \\ done   Quick Installation Running an Interactive Installation Start the interactive installation by running under command, and follow the on-screen instructions to install a new OpenShift Continer Platform cluster.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97  $ atomic-openshift-installer install *** Installation Summary *** Hosts: - master.example.com - OpenShift master - OpenShift node (Unscheduled) - Etcd - Storage - node1.example.com - OpenShift node (Dedicated) - node2.example.com - OpenShift node (Dedicated) Total OpenShift masters: 1 Total OpenShift nodes: 3 NOTE: Add a total of 3 or more masters to perform an HA installation. Gathering information from hosts... All hosts in config are uninstalled. Proceeding with installation... Wrote atomic-openshift-installer config: /root/.config/openshift/installer.cfg.yml Wrote Ansible inventory: /root/.config/openshift/hosts Ready to run installation process. Play 1/28 (Create initial host groups for localhost) .. Play 2/28 (Create initial host groups for all hosts) . Play 3/28 (Populate config host groups) ................ Play 4/28 (Ensure that all non-node hosts are accessible) . Play 5/28 (Initialize host facts) ................ Play 6/28 (Gather and set facts for node hosts) ............... Play 7/28 (Verify compatible yum/subscription-manager combination) .. Play 8/28 (Determine openshift_version to configure on first master) ............................................................................................ Play 9/28 (Set openshift_version for all hosts) ............................................................................................ Play 10/28 (Set oo_option facts) ........ Play 11/28 (Disable excluders) .......................... Play 12/28 (Configure etcd) ................................................................................................................................................Pausing for 10 seconds (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort) .................................................................... Play 13/28 (Configure nfs) ............................................... Play 14/28 (Gather and set facts for master hosts) ....................... Play 15/28 (Determine if session secrets must be generated) .............. Play 16/28 (Generate master session secrets) .............. Play 17/28 (Configure masters) ............................................................................................................................................................................................................................................................................................................................................................................................................................................. Play 18/28 (Additional master configuration) ....................................................................................................................................................................................................................... Play 19/28 (Gather and set facts for node hosts) ............... Play 20/28 (Evaluate node groups) .. Play 21/28 (Configure nodes) ............................................................................................................................................................................................................................................................................................................................................. Play 22/28 (Additional node config) ..................................................................................................................... Play 23/28 (Create persistent volumes) ............................................................................................................................................................ Play 24/28 (Create Hosted Resources) .......................................................................................................................................................................................................Pausing for 30 seconds (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort) ................................................ Play 25/28 (Re-enable excluder if it was previously enabled) ............... localhost : ok=11 changed=0 unreachable=0 failed=0 master.example.com : ok=606 changed=151 unreachable=0 failed=0 node1.example.com : ok=202 changed=39 unreachable=0 failed=0 node2.example.com : ok=202 changed=39 unreachable=0 failed=0 Installation Complete: Note: Play count is only an estimate, some plays may have been skipped or dynamically added The installation was successful! If this is your first time installing please take a look at the Administrator Guide for advanced options related to routing, storage, authentication, and more: http://docs.openshift.com/enterprise/latest/admin_guide/overview.html   Running an unattended Installation Unattended installation allow you to run the installation with a pre-defined configuration file. The default installation configure file path is ~/.config/openshift/installer.cfg.yml. Define the configuration file and run the install command with the -u option.\n1  $ atomic-openshift-installer -u install   Here is a simple example of the install.cfg.yml file. For further information, please follow Defining an Installation Configuration File\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46  ansible_callback_facts_yaml:/root/.config/openshift/.ansible/callback_facts.yamlansible_inventory_path:/root/.config/openshift/hostsansible_log_path:/tmp/ansible.logdeployment:ansible_ssh_user:roothosts:- connect_to:master.example.comhostname:masterip:10.64.221.200public_hostname:masterpublic_ip:10.64.221.200roles:- master- etcd- node- storage- connect_to:node1.example.comhostname:node1ip:10.64.221.47node_labels:'{''region'':''infra''}'public_hostname:node1public_ip:10.64.221.47roles:- node- connect_to:node2.example.comhostname:node2ip:10.64.221.192node_labels:'{''region'':''infra''}'public_hostname:node2public_ip:10.64.221.192roles:- nodemaster_routingconfig_subdomain:''openshift_master_cluster_hostname:Noneopenshift_master_cluster_public_hostname:Noneproxy_exclude_hosts:''proxy_http:''proxy_https:''roles:etcd:{}master:{}node:{}storage:{}variant:openshift-enterprisevariant_version:'3.5'version:v2  Also you can specify a different path of the configuration file with the -c option.\n1  $ atomic-openshift-installer -u -c  install   Verifying the installation After the installation is completed.\n  Verify the master and nodes are started in Ready status. On the master host, run the following as root\n1 2 3 4 5 6  # oc get nodes NAME STATUS AGE master.example.com Ready,SchedulingDisabled 165d node1.example.com Ready 165d node2.example.com Ready 165d     The web console use the master host name with a default port number 8443. In this test environment, you can find the web console at https://master.openshift.com:8443/console\n  Now that the install has been verified, run the following command on each master and node host to add the atomic-openshift packages back to the list of yum excludes on the host:\n1  # atomic-openshift-excluder exclude     Uninstallation You can uninstall OpenShift Container Platform from all hosts using the follow commands\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  $ atomic-openshift-installer uninstall OpenShift will be uninstalled from the following hosts: * master.example.com * node1.example.com * node2.example.com Do you want to proceed? [y/N]: y Play 1/9 (OSEv3:children) .... Play 2/9 (nodes) .. Play 3/9 (masters) .. Play 4/9 (etcd) .. Play 5/9 (nodes) ............................... Play 6/9 (masters) ............ Play 7/9 (etcd) ............ master.example.com : ok=60 changed=17 unreachable=0 failed=0 node1.example.com : ok=35 changed=8 unreachable=0 failed=0 node2.example.com : ok=35 changed=8 unreachable=0 failed=0   If you are using a configuration file, specify the file path for the uninstallation:\n1  $ atomic-openshift-installer -c  uninstall   ","wordCount":"1530","inLanguage":"en","datePublished":"2017-07-07T15:32:15Z","dateModified":"2017-07-07T15:32:15Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wenhan.blog/post/openshift-use-ansible-to-install-openshift-to-multi-nodes/"},"publisher":{"@type":"Organization","name":"Wenhan blog","logo":{"@type":"ImageObject","url":"https://media.licdn.com/dms/image/C4D03AQHsFHxbDCgPsA/profile-displayphoto-shrink_400_400/0/1517015003915?e=1683763200\u0026v=beta\u0026t=PR0k2MbOHcJjtozRAQipgSz2CGprYxywDGgXInkOXmo"}}}</script>
</head><body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://wenhan.blog/ accesskey=h title="Home (Alt + H)">
<img src=https://wenhan.blog/apple-touch-icon.png alt aria-label=logo height=35>Home</a>
<div class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</div></div><ul id=menu>
<li>
<a href=https://wenhan.blog/archives/ title=Archives>
<span>Archives</span>
</a>
</li><li>
<a href=https://wenhan.blog/tags/ title=Tags>
<span>Tags</span>
</a>
</li><li>
<a href=https://wenhan.blog/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li></ul></nav></header><main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://wenhan.blog/>Home</a>&nbsp;»&nbsp;<a href=https://wenhan.blog/post/>Posts</a></div><h1 class=post-title>
[OpenShift]Quick install OpenShift to multi nodes
</h1><div class=post-meta><span title="2017-07-07 15:32:15 +0000 UTC">July 7, 2017</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;1530 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/post/OpenShift-Use-ansible-to-install-OpenShift-to-multi-nodes.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div></header><div class=toc>
<details open>
<summary accesskey=c title="(Alt + C)">
<span class=details>Table of Contents</span>
</summary>
<div class=inner><nav id=TableOfContents>
<ul>
<li><a href=#install-docker>Install docker</a></li><li><a href=#add-parameter-to-docker-configuration-file>Add parameter to docker configuration file</a></li><li><a href=#configure-docker-storage>Configure Docker Storage</a></li><li><a href=#enable-and-start-docker-service>Enable and start docker service.</a></li></ul><ul>
<li><a href=#running-an-interactive-installation>Running an Interactive Installation</a></li><li><a href=#running-an-unattended-installation>Running an unattended Installation</a></li><li><a href=#verifying-the-installation>Verifying the installation</a></li></ul></nav></div></details>
</div><div class=post-content><p>In this article we will show you how to install OpenShift in mutliple nodes
using a quick install command, atomic-openshift-installer, which is powered by
ansible.</p><h1 id=host-preparation>Host preparation<a hidden class=anchor aria-hidden=true href=#host-preparation>#</a></h1><p>I use under virtual machines for OpenShift nodes to deploy</p><table>
<thead>
<tr>
<th>Type</th><th>CPU</th><th>Mem</th><th>HDD</th><th>hostname</th><th>OS</th></tr></thead><tbody>
<tr>
<td>Master</td><td>1</td><td>2 GB</td><td>20 GB</td><td>master.example.com</td><td>RHEL 7</td></tr><tr>
<td>node</td><td>1</td><td>2 GB</td><td>20 GB</td><td>node1.example.com</td><td>RHEL 7</td></tr><tr>
<td>node</td><td>1</td><td>2 GB</td><td>20 GB</td><td>node2.example.com</td><td>RHEL 7</td></tr></tbody></table><h1 id=host-registration>Host Registration<a hidden class=anchor aria-hidden=true href=#host-registration>#</a></h1><p>Note: If you are using other OS but not RHEL, Please go to [# Install necessary packages](# Install necessary packages) to install the
packages. If you can not install some of them, try to add some repos or get the rpm file.</p><p>Register each host with RHSM(Red Hat Subscription Manager) to access the
required packages.</p><ol>
<li>
<p>Register with RHSM for each host:</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># subscription-manager register --username=&lt;user_name&gt; --password=&lt;password&gt;
</span></span></code></pre></td></tr></table></div></div></li><li>
<p>List the available OpenShift subscriptions:</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># subscription-manager list --available --matches &#39;*OpenShift*&#39;
</span></span></code></pre></td></tr></table></div></div></li><li>
<p>Find pool ID for an OpenShift Container Platform subscription and attach it.</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># subscription-manager attach --pool=&lt;pool_id&gt;
</span></span></code></pre></td></tr></table></div></div></li><li>
<p>Disable all repositories and enable only the repositories required by
OpenShift Container Platform 3.5</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># subscription-manager repos --disable=&#34;*&#34;
</span></span><span class=line><span class=cl># yum-config-manager --disable \*
</span></span><span class=line><span class=cl># subscription-manager repos \
</span></span><span class=line><span class=cl>    --enable=&#34;rhel-7-server-rpms&#34; \
</span></span><span class=line><span class=cl>    --enable=&#34;rhel-7-server-extras-rpms&#34; \
</span></span><span class=line><span class=cl>    --enable=&#34;rhel-7-server-ose-3.5-rpms&#34; \
</span></span><span class=line><span class=cl>    --enable=&#34;rhel-7-fast-datapath-rpms&#34;
</span></span></code></pre></td></tr></table></div></div></li></ol><h1 id=install-necessary-packages>Install necessary packages<a hidden class=anchor aria-hidden=true href=#install-necessary-packages>#</a></h1><p>Install the following packages.</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># yum -y install wget git net-tools bind-utils iptables-services bridge-utils bash-completion kexec sos psacct
</span></span><span class=line><span class=cl># yum update
</span></span><span class=line><span class=cl># yum -y install atomic-openshift-utils atomic-openshift-excluder atomic-openshift-docker-excluder
</span></span><span class=line><span class=cl># atomic-openshift-excluder unexclude
</span></span></code></pre></td></tr></table></div></div><h1 id=install-and-configure-docker>Install and configure docker<a hidden class=anchor aria-hidden=true href=#install-and-configure-docker>#</a></h1><h2 id=install-docker>Install docker<a hidden class=anchor aria-hidden=true href=#install-docker>#</a></h2><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># yum -y install docker
</span></span></code></pre></td></tr></table></div></div><h2 id=add-parameter-to-docker-configuration-file>Add parameter to docker configuration file<a hidden class=anchor aria-hidden=true href=#add-parameter-to-docker-configuration-file>#</a></h2><p>Edit <code>/etc/sysconfig/docker</code> file and add <code>--insecure-registry 172.30.0.0/16</code> to the <code>OPTIONS</code> parameter.</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>OPTIONS=&#39;--selinux-enabled --insecure-registry 172.30.0.0/16&#39;
</span></span></code></pre></td></tr></table></div></div><h2 id=configure-docker-storage>Configure Docker Storage<a hidden class=anchor aria-hidden=true href=#configure-docker-storage>#</a></h2><p>Here we use an additional block device for docker storage. In <code>/etc/sysconfig/docker-storage-setup</code> , set <code>DEVS</code> to the path of the disk device. Set <code>VG</code> to the volume group name you wish to create.</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># cat &lt;&lt;EOF &gt; /etc/sysconfig/docker-storage-setup
</span></span><span class=line><span class=cl>DEVS=/dev/vdc
</span></span><span class=line><span class=cl>VG=docker-vg
</span></span><span class=line><span class=cl>EOF
</span></span></code></pre></td></tr></table></div></div><p>Then run <code>docker-storage-setup</code> and check to make sure the <code>docker-vg</code> was created.</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># docker-storage-setup                                                                                                                                                                                                                                [5/1868]
</span></span><span class=line><span class=cl>0
</span></span><span class=line><span class=cl>Checking that no-one is using this disk right now ...
</span></span><span class=line><span class=cl>OK
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Disk /dev/vdc: 31207 cylinders, 16 heads, 63 sectors/track
</span></span><span class=line><span class=cl>sfdisk:  /dev/vdc: unrecognized partition table type
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Old situation:
</span></span><span class=line><span class=cl>sfdisk: No partitions found
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>New situation:
</span></span><span class=line><span class=cl>Units: sectors of 512 bytes, counting from 0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   Device Boot    Start       End   #sectors  Id  System
</span></span><span class=line><span class=cl>/dev/vdc1          2048  31457279   31455232  8e  Linux LVM
</span></span><span class=line><span class=cl>/dev/vdc2             0         -          0   0  Empty
</span></span><span class=line><span class=cl>/dev/vdc3             0         -          0   0  Empty
</span></span><span class=line><span class=cl>/dev/vdc4             0         -          0   0  Empty
</span></span><span class=line><span class=cl>Warning: partition 1 does not start at a cylinder boundary
</span></span><span class=line><span class=cl>Warning: partition 1 does not end at a cylinder boundary
</span></span><span class=line><span class=cl>Warning: no primary partition is marked bootable (active)
</span></span><span class=line><span class=cl>This does not matter for LILO, but the DOS MBR will not boot this disk.
</span></span><span class=line><span class=cl>Successfully wrote the new partition table
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Re-reading the partition table ...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>If you created or changed a DOS partition, /dev/foo7, say, then use dd(1)
</span></span><span class=line><span class=cl>to zero the first 512 bytes:  dd if=/dev/zero of=/dev/foo7 bs=512 count=1
</span></span><span class=line><span class=cl>(See fdisk(8).)
</span></span><span class=line><span class=cl>  Physical volume &#34;/dev/vdc1&#34; successfully created
</span></span><span class=line><span class=cl>  Volume group &#34;docker-vg&#34; successfully created
</span></span><span class=line><span class=cl>  Rounding up size to full physical extent 16.00 MiB
</span></span><span class=line><span class=cl>  Logical volume &#34;docker-poolmeta&#34; created.
</span></span><span class=line><span class=cl>  Logical volume &#34;docker-pool&#34; created.
</span></span><span class=line><span class=cl>  WARNING: Converting logical volume docker-vg/docker-pool and docker-vg/docker-poolmeta to pool&#39;s data and metadata volumes.
</span></span><span class=line><span class=cl>  THIS WILL DESTROY CONTENT OF LOGICAL VOLUME (filesystem etc.)
</span></span><span class=line><span class=cl>  Converted docker-vg/docker-pool to thin pool.
</span></span><span class=line><span class=cl>  Logical volume &#34;docker-pool&#34; changed.
</span></span></code></pre></td></tr></table></div></div><h2 id=enable-and-start-docker-service>Enable and start docker service.<a hidden class=anchor aria-hidden=true href=#enable-and-start-docker-service>#</a></h2><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># systemctl enable docker
</span></span><span class=line><span class=cl># systemctl start docker
</span></span><span class=line><span class=cl># systemctl is-active docker
</span></span></code></pre></td></tr></table></div></div><h1 id=ensure-host-access>Ensure Host Access<a hidden class=anchor aria-hidden=true href=#ensure-host-access>#</a></h1><p>On each hosts, generate an SSH key WITHOUT a password</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># ssh-keygen
</span></span></code></pre></td></tr></table></div></div><p>Copy the <code>id_rsa.pub</code> to each host:</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># for host in master.example.com \
</span></span><span class=line><span class=cl>    node1.example.com \
</span></span><span class=line><span class=cl>    node2.example.com; \
</span></span><span class=line><span class=cl>    do ssh-copy-id -i ~/.ssh/id_rsa.pub $host; \
</span></span><span class=line><span class=cl>    done
</span></span></code></pre></td></tr></table></div></div><h1 id=quick-installation>Quick Installation<a hidden class=anchor aria-hidden=true href=#quick-installation>#</a></h1><h2 id=running-an-interactive-installation>Running an Interactive Installation<a hidden class=anchor aria-hidden=true href=#running-an-interactive-installation>#</a></h2><p>Start the interactive installation by running under command, and follow the
on-screen instructions to install a new OpenShift Continer Platform cluster.</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span><span class=lnt>94
</span><span class=lnt>95
</span><span class=lnt>96
</span><span class=lnt>97
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ atomic-openshift-installer install
</span></span><span class=line><span class=cl>*** Installation Summary ***
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Hosts:
</span></span><span class=line><span class=cl>- master.example.com
</span></span><span class=line><span class=cl>  - OpenShift master
</span></span><span class=line><span class=cl>  - OpenShift node (Unscheduled)
</span></span><span class=line><span class=cl>  - Etcd
</span></span><span class=line><span class=cl>  - Storage
</span></span><span class=line><span class=cl>- node1.example.com
</span></span><span class=line><span class=cl>  - OpenShift node (Dedicated)
</span></span><span class=line><span class=cl>- node2.example.com
</span></span><span class=line><span class=cl>  - OpenShift node (Dedicated)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Total OpenShift masters: 1
</span></span><span class=line><span class=cl>Total OpenShift nodes: 3
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>NOTE: Add a total of 3 or more masters to perform an HA installation.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Gathering information from hosts...
</span></span><span class=line><span class=cl>All hosts in config are uninstalled. Proceeding with installation...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Wrote atomic-openshift-installer config: /root/.config/openshift/installer.cfg.yml
</span></span><span class=line><span class=cl>Wrote Ansible inventory: /root/.config/openshift/hosts
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Ready to run installation process.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Play 1/28 (Create initial host groups for localhost)
</span></span><span class=line><span class=cl>..
</span></span><span class=line><span class=cl>Play 2/28 (Create initial host groups for all hosts)
</span></span><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>Play 3/28 (Populate config host groups)
</span></span><span class=line><span class=cl>................
</span></span><span class=line><span class=cl>Play 4/28 (Ensure that all non-node hosts are accessible)
</span></span><span class=line><span class=cl>.
</span></span><span class=line><span class=cl>Play 5/28 (Initialize host facts)
</span></span><span class=line><span class=cl>................
</span></span><span class=line><span class=cl>Play 6/28 (Gather and set facts for node hosts)
</span></span><span class=line><span class=cl>...............
</span></span><span class=line><span class=cl>Play 7/28 (Verify compatible yum/subscription-manager combination)
</span></span><span class=line><span class=cl>..
</span></span><span class=line><span class=cl>Play 8/28 (Determine openshift_version to configure on first master)
</span></span><span class=line><span class=cl>............................................................................................
</span></span><span class=line><span class=cl>Play 9/28 (Set openshift_version for all hosts)
</span></span><span class=line><span class=cl>............................................................................................
</span></span><span class=line><span class=cl>Play 10/28 (Set oo_option facts)
</span></span><span class=line><span class=cl>........
</span></span><span class=line><span class=cl>Play 11/28 (Disable excluders)
</span></span><span class=line><span class=cl>..........................
</span></span><span class=line><span class=cl>Play 12/28 (Configure etcd)
</span></span><span class=line><span class=cl>................................................................................................................................................Pausing for 10 seconds
</span></span><span class=line><span class=cl>(ctrl+C then &#39;C&#39; = continue early, ctrl+C then &#39;A&#39; = abort)
</span></span><span class=line><span class=cl>....................................................................
</span></span><span class=line><span class=cl>Play 13/28 (Configure nfs)
</span></span><span class=line><span class=cl>...............................................
</span></span><span class=line><span class=cl>Play 14/28 (Gather and set facts for master hosts)
</span></span><span class=line><span class=cl>.......................
</span></span><span class=line><span class=cl>Play 15/28 (Determine if session secrets must be generated)
</span></span><span class=line><span class=cl>..............
</span></span><span class=line><span class=cl>Play 16/28 (Generate master session secrets)
</span></span><span class=line><span class=cl>..............
</span></span><span class=line><span class=cl>Play 17/28 (Configure masters)
</span></span><span class=line><span class=cl>.............................................................................................................................................................................................................................................................................................................................................................................................................................................
</span></span><span class=line><span class=cl>Play 18/28 (Additional master configuration)
</span></span><span class=line><span class=cl>.......................................................................................................................................................................................................................
</span></span><span class=line><span class=cl>Play 19/28 (Gather and set facts for node hosts)
</span></span><span class=line><span class=cl>...............
</span></span><span class=line><span class=cl>Play 20/28 (Evaluate node groups)
</span></span><span class=line><span class=cl>..
</span></span><span class=line><span class=cl>Play 21/28 (Configure nodes)
</span></span><span class=line><span class=cl>.............................................................................................................................................................................................................................................................................................................................................
</span></span><span class=line><span class=cl>Play 22/28 (Additional node config)
</span></span><span class=line><span class=cl>.....................................................................................................................
</span></span><span class=line><span class=cl>Play 23/28 (Create persistent volumes)
</span></span><span class=line><span class=cl>............................................................................................................................................................
</span></span><span class=line><span class=cl>Play 24/28 (Create Hosted Resources)
</span></span><span class=line><span class=cl>.......................................................................................................................................................................................................Pausing for 30 seconds
</span></span><span class=line><span class=cl>(ctrl+C then &#39;C&#39; = continue early, ctrl+C then &#39;A&#39; = abort)
</span></span><span class=line><span class=cl>................................................
</span></span><span class=line><span class=cl>Play 25/28 (Re-enable excluder if it was previously enabled)
</span></span><span class=line><span class=cl>...............
</span></span><span class=line><span class=cl>localhost                  : ok=11   changed=0    unreachable=0    failed=0   
</span></span><span class=line><span class=cl>master.example.com         : ok=606  changed=151  unreachable=0    failed=0   
</span></span><span class=line><span class=cl>node1.example.com          : ok=202  changed=39   unreachable=0    failed=0   
</span></span><span class=line><span class=cl>node2.example.com          : ok=202  changed=39   unreachable=0    failed=0   
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Installation Complete: Note: Play count is only an estimate, some plays may have been skipped or dynamically added
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>The installation was successful!
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>If this is your first time installing please take a look at the Administrator
</span></span><span class=line><span class=cl>Guide for advanced options related to routing, storage, authentication, and
</span></span><span class=line><span class=cl>more:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>http://docs.openshift.com/enterprise/latest/admin_guide/overview.html
</span></span></code></pre></td></tr></table></div></div><h2 id=running-an-unattended-installation>Running an unattended Installation<a hidden class=anchor aria-hidden=true href=#running-an-unattended-installation>#</a></h2><p>Unattended installation allow you to run the installation with a pre-defined
configuration file. The default installation configure file path is <em>~/.config/openshift/installer.cfg.yml</em>. Define the configuration file and
run the install command with the <code>-u</code> option.</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ atomic-openshift-installer -u install
</span></span></code></pre></td></tr></table></div></div><p>Here is a simple example of the <em>install.cfg.yml</em> file. For further
information, please follow <a href=https://docs.openshift.com/container-platform/3.5/install_config/install/quick_install.html#defining-an-installation-configuration-file>Defining an Installation Configuration File</a></p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-~/.config/openshift/installer.cfg.yml data-lang=~/.config/openshift/installer.cfg.yml><span class=line><span class=cl><span class=nt>ansible_callback_facts_yaml</span><span class=p>:</span><span class=w> </span><span class=l>/root/.config/openshift/.ansible/callback_facts.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>ansible_inventory_path</span><span class=p>:</span><span class=w> </span><span class=l>/root/.config/openshift/hosts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>ansible_log_path</span><span class=p>:</span><span class=w> </span><span class=l>/tmp/ansible.log</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>deployment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ansible_ssh_user</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>connect_to</span><span class=p>:</span><span class=w> </span><span class=l>master.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ip</span><span class=p>:</span><span class=w> </span><span class=m>10.64.221.200</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>public_hostname</span><span class=p>:</span><span class=w> </span><span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>public_ip</span><span class=p>:</span><span class=w> </span><span class=m>10.64.221.200</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>roles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>etcd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>node</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>storage</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>connect_to</span><span class=p>:</span><span class=w> </span><span class=l>node1.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=l>node1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ip</span><span class=p>:</span><span class=w> </span><span class=m>10.64.221.47</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>node_labels</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{&#39;</span><span class=nt>&#39;region&#39;&#39;</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=l>infra&#39;&#39;}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>public_hostname</span><span class=p>:</span><span class=w> </span><span class=l>node1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>public_ip</span><span class=p>:</span><span class=w> </span><span class=m>10.64.221.47</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>roles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>node</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>connect_to</span><span class=p>:</span><span class=w> </span><span class=l>node2.example.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=l>node2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ip</span><span class=p>:</span><span class=w> </span><span class=m>10.64.221.192</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>node_labels</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{&#39;</span><span class=nt>&#39;region&#39;&#39;</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=l>infra&#39;&#39;}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>public_hostname</span><span class=p>:</span><span class=w> </span><span class=l>node2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>public_ip</span><span class=p>:</span><span class=w> </span><span class=m>10.64.221.192</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>roles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>node</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>master_routingconfig_subdomain</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>openshift_master_cluster_hostname</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>openshift_master_cluster_public_hostname</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>proxy_exclude_hosts</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>proxy_http</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>proxy_https</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>roles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>etcd</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>master</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>node</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>variant</span><span class=p>:</span><span class=w> </span><span class=l>openshift-enterprise</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>variant_version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3.5&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=l>v2</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Also you can specify a different path of the configuration file with the <code>-c</code> option.</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ atomic-openshift-installer -u -c &lt;/path/to/file&gt; install
</span></span></code></pre></td></tr></table></div></div><h2 id=verifying-the-installation>Verifying the installation<a hidden class=anchor aria-hidden=true href=#verifying-the-installation>#</a></h2><p>After the installation is completed.</p><ol>
<li>
<p>Verify the master and nodes are started in Ready status. On the master host,
run the following as root</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># oc get nodes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>NAME                        STATUS                     AGE
</span></span><span class=line><span class=cl>master.example.com          Ready,SchedulingDisabled   165d
</span></span><span class=line><span class=cl>node1.example.com           Ready                      165d
</span></span><span class=line><span class=cl>node2.example.com           Ready                      165d
</span></span></code></pre></td></tr></table></div></div></li><li>
<p>The web console use the master host name with a default port number 8443. In
this test environment, you can find the web console at <a href=https://master.openshift.com:8443/console>https://master.openshift.com:8443/console</a></p></li><li>
<p>Now that the install has been verified, run the following command on each master
and node host to add the atomic-openshift packages back to the list of yum
excludes on the host:</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># atomic-openshift-excluder exclude
</span></span></code></pre></td></tr></table></div></div></li></ol><h1 id=uninstallation>Uninstallation<a hidden class=anchor aria-hidden=true href=#uninstallation>#</a></h1><p>You can uninstall OpenShift Container Platform from all hosts using the follow
commands</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ atomic-openshift-installer uninstall
</span></span><span class=line><span class=cl>OpenShift will be uninstalled from the following hosts:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  * master.example.com
</span></span><span class=line><span class=cl>  * node1.example.com
</span></span><span class=line><span class=cl>  * node2.example.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Do you want to proceed? [y/N]: y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Play 1/9 (OSEv3:children)
</span></span><span class=line><span class=cl>....
</span></span><span class=line><span class=cl>Play 2/9 (nodes)
</span></span><span class=line><span class=cl>..
</span></span><span class=line><span class=cl>Play 3/9 (masters)
</span></span><span class=line><span class=cl>..
</span></span><span class=line><span class=cl>Play 4/9 (etcd)
</span></span><span class=line><span class=cl>..
</span></span><span class=line><span class=cl>Play 5/9 (nodes)
</span></span><span class=line><span class=cl>...............................
</span></span><span class=line><span class=cl>Play 6/9 (masters)
</span></span><span class=line><span class=cl>............
</span></span><span class=line><span class=cl>Play 7/9 (etcd)
</span></span><span class=line><span class=cl>............
</span></span><span class=line><span class=cl>master.example.com         : ok=60   changed=17   unreachable=0    failed=0
</span></span><span class=line><span class=cl>node1.example.com          : ok=35   changed=8    unreachable=0    failed=0
</span></span><span class=line><span class=cl>node2.example.com          : ok=35   changed=8    unreachable=0    failed=0
</span></span></code></pre></td></tr></table></div></div><p>If you are using a configuration file, specify the file path for the uninstallation:</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ atomic-openshift-installer -c &lt;/path/to/file&gt; uninstall
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer>
<ul class=post-tags>
<li><a href=https://wenhan.blog/tags/linux/>Linux</a></li><li><a href=https://wenhan.blog/tags/openshift/>OpenShift</a></li></ul><nav class=paginav>
<a class=prev href=https://wenhan.blog/post/openshift-configure-authetication-and-user-agent-using-htpasswd/>
<span class=title>« Prev</span>
<br>
<span>OpenShift Configure authentication and User Agent using HTPasswd</span>
</a>
<a class=next href=https://wenhan.blog/post/how-to-copy-paste-text-to-from-the-system-clipboard-in-vim/>
<span class=title>Next »</span>
<br>
<span>How to copy text to the system clipboard in VIM</span>
</a>
</nav><div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share [OpenShift]Quick install OpenShift to multi nodes on twitter" href="https://twitter.com/intent/tweet/?text=%5bOpenShift%5dQuick%20install%20OpenShift%20to%20multi%20nodes&url=https%3a%2f%2fwenhan.blog%2fpost%2fopenshift-use-ansible-to-install-openshift-to-multi-nodes%2f&hashtags=Linux%2cOpenShift"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [OpenShift]Quick install OpenShift to multi nodes on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwenhan.blog%2fpost%2fopenshift-use-ansible-to-install-openshift-to-multi-nodes%2f&title=%5bOpenShift%5dQuick%20install%20OpenShift%20to%20multi%20nodes&summary=%5bOpenShift%5dQuick%20install%20OpenShift%20to%20multi%20nodes&source=https%3a%2f%2fwenhan.blog%2fpost%2fopenshift-use-ansible-to-install-openshift-to-multi-nodes%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [OpenShift]Quick install OpenShift to multi nodes on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwenhan.blog%2fpost%2fopenshift-use-ansible-to-install-openshift-to-multi-nodes%2f&title=%5bOpenShift%5dQuick%20install%20OpenShift%20to%20multi%20nodes"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [OpenShift]Quick install OpenShift to multi nodes on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwenhan.blog%2fpost%2fopenshift-use-ansible-to-install-openshift-to-multi-nodes%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [OpenShift]Quick install OpenShift to multi nodes on whatsapp" href="https://api.whatsapp.com/send?text=%5bOpenShift%5dQuick%20install%20OpenShift%20to%20multi%20nodes%20-%20https%3a%2f%2fwenhan.blog%2fpost%2fopenshift-use-ansible-to-install-openshift-to-multi-nodes%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share [OpenShift]Quick install OpenShift to multi nodes on telegram" href="https://telegram.me/share/url?text=%5bOpenShift%5dQuick%20install%20OpenShift%20to%20multi%20nodes&url=https%3a%2f%2fwenhan.blog%2fpost%2fopenshift-use-ansible-to-install-openshift-to-multi-nodes%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div></footer><div class="disqus markdown">
<div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://xibuka.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></article></main><footer class=footer>
<span>&copy; 2023 <a href=https://wenhan.blog/>Wenhan blog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span>
</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script>
<script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="copy";function s(){e.innerHTML="copied!",setTimeout(()=>{e.innerHTML="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script>
</body></html>