<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Wenhan Code Life</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Wenhan Shi" /><meta name="description" content="Beware the dark side" /><meta name="keywords" content="Ubuntu, RHEL, Docker, Kubernetes, OpenShift, GlusterFS" />






<meta name="generator" content="Hugo 0.57.2 with theme even" />


<link rel="canonical" href="http://localhost:1313/" />
  <link href="http://localhost:1313/index.xml" rel="alternate" type="application/rss+xml" title="Wenhan Code Life" />
  <link href="http://localhost:1313/index.xml" rel="feed" type="application/rss+xml" title="Wenhan Code Life" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<link href="/dist/even.c2a46f00.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Wenhan Code Life" />
<meta property="og:description" content="Beware the dark side" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/" />

<meta property="og:updated_time" content="2019-10-01T13:13:11+00:00" />
<meta itemprop="name" content="Wenhan Code Life">
<meta itemprop="description" content="Beware the dark side">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Wenhan Code Life"/>
<meta name="twitter:description" content="Beware the dark side"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">WenhanBlog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">WenhanBlog</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

<div class="social-links">
      <a href="mailto:shibunkan@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/shi_wenhan" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://www.linkedin.com/in/wenhan-shi-0883a9132/" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://github.com/xibuka" class="iconfont icon-github" title="github"></a>
      <a href="https://www.zhihu.com/people/xibuka" class="iconfont icon-zhihu" title="zhihu"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2422626403812806"
     data-ad-slot="1454707894"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <section id="posts" class="posts">
    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/asrock-fatal1ty-b450-gaming-itx-restore-on-ac-power-loss-not-working/">ASRock Fatal1ty B450 Gaming-ITX &#39;Restore on AC/Power Loss&#39; not working</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2019-10-01 </span>
      
        <span class="more-meta"> 61 words </span>
        <span class="more-meta"> 1 min read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      I have a ASRock Fatal1ty B450 Gaming-ITX with the latest BIOS 3.40. As I want to power it on remotely, In Bios setting I enabled &lsquo;Restore on AC/Power Loss&rsquo; option on BIOS, but it&rsquo;s not working.
Then I found below and upgrade my bios firmware to 3.53, and everything works just fine! You can find the v3.53 on below link.
http://forum.asrock.com/forum_posts.asp?TID=12059&amp;title=fatal1ty-b450-gamingitx-restore-on-ac-power-loss
    </div>
    <div class="read-more">
      <a href="/post/asrock-fatal1ty-b450-gaming-itx-restore-on-ac-power-loss-not-working/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/access-wifi-point-via-command-line-cli/">connect to wifi in Linux via nmcli command</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2019-08-17 </span>
      
        <span class="more-meta"> 281 words </span>
        <span class="more-meta"> 2 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      I will use nmcli to do this task.
First you need to install network-manager package, and start the Daemon
1 2  $ sudo apt install network-manager $ sudo systemctl start NetworkManager   Then let&rsquo;s check the network interface status by below command
1 2 3 4 5 6 7  $ nmcli dev status DEVICE TYPE STATE CONNECTION wlp2s0 wifi connected xibuka-wifi-5G enp0s31f6 ethernet connected netplan-enp0s31f6 p2p-dev-wlp2s0 wifi-p2p disconnected -- eth0 ethernet unavailable -- lo loopback unmanaged --   Next step is to check the available Wifi access points.
    </div>
    <div class="read-more">
      <a href="/post/access-wifi-point-via-command-line-cli/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/bash-head-options/">The begining of bash script</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2019-06-25 </span>
      
        <span class="more-meta"> 46 words </span>
        <span class="more-meta"> 1 min read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      exit script immediately when a command fails
1 2  set -o errexit set -e   output error and exit script immediately when refer to a undefine variable.
1 2  set -o nounset set -u   exit script even a command fails before a pipe
1  set -o pipefail  
    </div>
    <div class="read-more">
      <a href="/post/bash-head-options/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/presentasion-about-microk8s-at-containerdaystokyo/">Presentasion about microk8s at containerDaysTokyo</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2018-12-07 </span>
      
        <span class="more-meta"> 20 words </span>
        <span class="more-meta"> 1 min read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      I did a presentation about microk8s and snap at ContainerDays Tokyo. The slide(Japanese) can be found as below.
speakerdeck.com
Enjoy!
    </div>
    <div class="read-more">
      <a href="/post/presentasion-about-microk8s-at-containerdaystokyo/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/openstack-frequently-used-command/">OpenStack frequently used command</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2018-09-27 </span>
      
        <span class="more-meta"> 898 words </span>
        <span class="more-meta"> 5 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      OpenStack frequently used command OpenStack Compute - Nova  list instances nova list openstack server list list/check flavor nova flavor-list nova flavor-show &lt;name or ID&gt; openstack flavor list openstack flavor show &lt;name or ID&gt; create flavor openstack flavor create --ram &lt;ram&gt; --vcpus &lt;cpu number&gt; --disk &lt;size&gt; --id &lt;id&gt; &lt;name&gt; nova flavor-create &lt;name&gt; &lt;id&gt; &lt;ram&gt; &lt;disk&gt; &lt;vcpus&gt; launch an instance nova boot &lt;name&gt; --image &lt;image&gt; --flavor &lt;flavor&gt; openstack server create --flavor &lt;flavor&gt; --image &lt;image&gt; &lt;name&gt; launch an instance with network openstack server create --flavor &lt;flavor&gt; --image &lt;image&gt; &lt;name&gt; net-id=&lt;network&gt; launch an instance with key-pair nova boot &lt;name&gt; --image &lt;image&gt; --flavor &lt;flavor&gt; --key-name &lt;key-pair name&gt; openstack server create --flavor &lt;flavor&gt; --image &lt;image&gt; &lt;name&gt; access instance via router ip netns list sudo ip netns exec &lt;qrouter-id&gt; ssh -i &lt;key&gt; user@ip launch an instance with custom port nova boot --image &lt;image&gt; --flavor &lt;flavor&gt; --nic port-id=&lt;port-id&gt; &lt;instance name&gt; delete an instance nova delete &lt;ID&gt; openstack server delete &lt;ID or name&gt;  Openstack Network - Neutron  list network openstack network list list subnetwork openstack subnet list --long create a network openstack network create &lt;net name&gt; create a subnetwork openstack subnet create &lt;subnet name&gt; --network &lt;net name&gt; --subnet-range &lt;ip address&gt;/&lt;prefix&gt; --gateway &lt;gw ip&gt; --allocation-pool start=IP_ADDR,end=IP_ADDR e.
    </div>
    <div class="read-more">
      <a href="/post/openstack-frequently-used-command/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/certified-kubernetes-administrator-cka-learning-note/">Certified Kubernetes Administrator (CKA) learning note</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2018-08-29 </span>
      
        <span class="more-meta"> 2507 words </span>
        <span class="more-meta"> 12 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Install  Install docker.io
1  apt install docker.io    If you install docker with other cgroup driver, you have to make sure that docker and Kubernetes will use same cgroup driver.
1 2 3 4 5  cat &lt;&lt; EOF &gt;&gt; /etc/docker/daemon.json { &#34;exec-opts&#34;: [&#34;native.cgroupdriver=systemd&#34;] } EOF    install apt key and source to system
1 2 3 4 5  root@kube-master:~# curl -s https://packages.
    </div>
    <div class="read-more">
      <a href="/post/certified-kubernetes-administrator-cka-learning-note/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/juju-use-juju-to-deploy-minecraft-server-in-lxd/">[Juju] Use juju to deploy minecraft server in LXD</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2018-06-28 </span>
      
        <span class="more-meta"> 2163 words </span>
        <span class="more-meta"> 11 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Juju is a deploy tool which supports a very wide range of cloud providers, like AWS, Azure, Google Cloud Platform, MAAS and LXD. This artcle will focus on how to build an OpenStack test environment using Juju and LXD.
installing LXD It is very easy to install LXD, just run below command
1  $ sudo apt-install lxd   If you can&rsquo;t find lxd package, run below command to add PPA(Personal Package Archive) to find LXD package.
    </div>
    <div class="read-more">
      <a href="/post/juju-use-juju-to-deploy-minecraft-server-in-lxd/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/suspend-issue-on-thinkpad-x1c-6th-with-ubuntu-18-04/">Suspend issue on Thinkpad X1C 6th with Ubuntu 18.04</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2018-06-11 </span>
      
        <span class="more-meta"> 203 words </span>
        <span class="more-meta"> 1 min read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      S3 Suspend not supported by default There is an issue about suspend on Thinkpad X1 Carbon when using Ubuntu 18.04. When you close the lid suspend does not works well. It will continue cose some power and get you laptop hot.
The root cause is the 6th gen X1 Carbon supports S0i3(Which is also known as Windows Modern Standby) but does not support the S3 sleep state.
S0i3 sleep support After some researching, the workaround can be this:
    </div>
    <div class="read-more">
      <a href="/post/suspend-issue-on-thinkpad-x1c-6th-with-ubuntu-18-04/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/error-failed-container-creation-failed-to-load-raw-lxc/">Error: Failed container creation: Failed to load raw.lxc</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2018-06-04 </span>
      
        <span class="more-meta"> 168 words </span>
        <span class="more-meta"> 1 min read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      I follow below URL to try to install and test MaaS,
https://docs.maas.io/2.1/en/installconfig-lxd-install
At the profile edit part, from above documents
 lxc profile edit maas replace the {} after config with the following (excluding config:):
1 2 3 4 5 6  config: raw.lxc: |- lxc.cgroup.devices.allow = c 10:237 rwm lxc.aa_profile = unconfined lxc.cgroup.devices.allow = b 7:* rwm security.privileged: &#34;true&#34;   At the launch step, I hit below issue,
    </div>
    <div class="read-more">
      <a href="/post/error-failed-container-creation-failed-to-load-raw-lxc/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/getting-started-with-ansible-jp-basic/">Ansible 入門 - 基本操作(チュートリアル)</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2018-04-09 </span>
      
        <span class="more-meta"> 8970 words </span>
        <span class="more-meta"> 18 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      こちらの記事はではAnsibleを紹介するための文章で、元Red Hat社員のJingjing Shiが作成し、Wenhan Shiが日本語に翻訳
    </div>
    <div class="read-more">
      <a href="/post/getting-started-with-ansible-jp-basic/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    </section>
  
  <nav class="pagination">
    
    <a class="next" href="/page/2/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
  </nav>
        </div>
        

      </div>
    </main>

    <footer id="footer" class="footer">
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2422626403812806"
     data-ad-slot="1454707894"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<div class="social-links">
      <a href="mailto:shibunkan@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/shi_wenhan" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://www.linkedin.com/in/wenhan-shi-0883a9132/" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://github.com/xibuka" class="iconfont icon-github" title="github"></a>
      <a href="https://www.zhihu.com/people/xibuka" class="iconfont icon-zhihu" title="zhihu"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> site pv: <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> site uv: <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2016 - 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Wenhan Shi</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.26188efa.min.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-87273435-2', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







</body>
</html>
