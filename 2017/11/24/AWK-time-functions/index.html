<!doctype html>




<html class="theme-next pisces" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="R4LmYy1qpduVpsQoZvUXjxqKgmMw0vAgFCjS8UbQpSc" />













  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Linux,awk," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Apart of date, awk also has below built-in time functions which will help youto resolve time convert problem systime()This will return the current time as the number of seconds since the Epoch (1970-0">
<meta name="keywords" content="Linux,awk">
<meta property="og:type" content="article">
<meta property="og:title" content="AWK - time functions">
<meta property="og:url" content="http://wenhan.blog/2017/11/24/AWK-time-functions/index.html">
<meta property="og:site_name" content="Wenhan Code life">
<meta property="og:description" content="Apart of date, awk also has below built-in time functions which will help youto resolve time convert problem systime()This will return the current time as the number of seconds since the Epoch (1970-0">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-03-22T06:10:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AWK - time functions">
<meta name="twitter:description" content="Apart of date, awk also has below built-in time functions which will help youto resolve time convert problem systime()This will return the current time as the number of seconds since the Epoch (1970-0">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: false,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://wenhan.blog/2017/11/24/AWK-time-functions/"/>




<!-- ad start -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 自适应单元 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2422626403812806"
     data-ad-slot="1454707894"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- ad end -->


  <title> AWK - time functions | Wenhan Code life </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-87273435-2', 'auto');
  ga('send', 'pageview');
</script>











  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Wenhan Code life</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Beware the dard side.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://wenhan.blog/2017/11/24/AWK-time-functions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Wenhan Shi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/me.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wenhan Code life">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                AWK - time functions
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-24T08:34:34+09:00">
                2017-11-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/24/AWK-time-functions/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/24/AWK-time-functions/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/11/24/AWK-time-functions/" class="leancloud_visitors" data-flag-title="AWK - time functions">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Apart of <code>date</code>, awk also has below built-in time functions which will help you<br>to resolve time convert problem</p>
<h1 id="systime"><a href="#systime" class="headerlink" title="systime()"></a>systime()</h1><p>This will return the current time as the number of seconds since the Epoch (1970-01-01 00:00:00). </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ awk &apos;BEGIN &#123;</span><br><span class="line">&gt;    print &quot;Number of seconds since the Epoch = &quot; systime()</span><br><span class="line">&gt; &#125;&apos;</span><br><span class="line">Number of seconds since the Epoch = 1511480989</span><br></pre></td></tr></table></figure>
<h1 id="mktime-YYYY-MM-DD-HH-MM-SS"><a href="#mktime-YYYY-MM-DD-HH-MM-SS" class="headerlink" title="mktime(YYYY MM DD HH MM SS)"></a>mktime(YYYY MM DD HH MM SS)</h1><p>This will convert date string “YYYY MM DD HH MM SS” to the number of seconds<br>since the Epoch. It is the same output with systime.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ awk &apos;BEGIN &#123;</span><br><span class="line">   print &quot;Number of seconds since the Epoch = &quot; mktime(&quot;2017 11 24 08 52 10&quot;)</span><br><span class="line">&#125;&apos;</span><br><span class="line">Number of seconds since the Epoch = 1511481130</span><br></pre></td></tr></table></figure>
<h1 id="strftime"><a href="#strftime" class="headerlink" title="strftime()"></a>strftime()</h1><p>This will formats timestamps according to the specfification in format.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ awk &apos;BEGIN &#123;</span><br><span class="line">&gt;    print strftime(&quot;Time = %m/%d/%Y %H:%M:%S&quot;, systime())</span><br><span class="line">&gt; &#125;&apos;</span><br><span class="line">Time = 11/24/2017 08:54:15</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>Below time formats are supported by AWK:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">%a</span><br><span class="line">The locale’s abbreviated weekday name.</span><br><span class="line"></span><br><span class="line">%A</span><br><span class="line">The locale’s full weekday name.</span><br><span class="line"></span><br><span class="line">%b</span><br><span class="line">The locale’s abbreviated month name.</span><br><span class="line"></span><br><span class="line">%B</span><br><span class="line">The locale’s full month name.</span><br><span class="line"></span><br><span class="line">%c</span><br><span class="line">The locale’s “appropriate” date and time representation. (This is ‘%A %B %d %T %Y’ in the &quot;C&quot; locale.)</span><br><span class="line"></span><br><span class="line">%C</span><br><span class="line">The century part of the current year. This is the year divided by 100 and truncated to the next lower integer.</span><br><span class="line"></span><br><span class="line">%d</span><br><span class="line">The day of the month as a decimal number (01–31).</span><br><span class="line"></span><br><span class="line">%D</span><br><span class="line">Equivalent to specifying ‘%m/%d/%y’.</span><br><span class="line"></span><br><span class="line">%e</span><br><span class="line">The day of the month, padded with a space if it is only one digit.</span><br><span class="line"></span><br><span class="line">%F</span><br><span class="line">Equivalent to specifying ‘%Y-%m-%d’. This is the ISO 8601 date format.</span><br><span class="line"></span><br><span class="line">%g</span><br><span class="line">The year modulo 100 of the ISO 8601 week number, as a decimal number (00–99). For example, January 1, 2012, is in week 53 of 2011. Thus, the year of its ISO 8601 week number is 2011, even though its year is 2012. Similarly, December 31, 2012, is in week 1 of 2013. Thus, the year of its ISO week number is 2013, even though its year is 2012.</span><br><span class="line"></span><br><span class="line">%G</span><br><span class="line">The full year of the ISO week number, as a decimal number.</span><br><span class="line"></span><br><span class="line">%h</span><br><span class="line">Equivalent to ‘%b’.</span><br><span class="line"></span><br><span class="line">%H</span><br><span class="line">The hour (24-hour clock) as a decimal number (00–23).</span><br><span class="line"></span><br><span class="line">%I</span><br><span class="line">The hour (12-hour clock) as a decimal number (01–12).</span><br><span class="line"></span><br><span class="line">%j</span><br><span class="line">The day of the year as a decimal number (001–366).</span><br><span class="line"></span><br><span class="line">%m</span><br><span class="line">The month as a decimal number (01–12).</span><br><span class="line"></span><br><span class="line">%M</span><br><span class="line">The minute as a decimal number (00–59).</span><br><span class="line"></span><br><span class="line">%n</span><br><span class="line">A newline character (ASCII LF).</span><br><span class="line"></span><br><span class="line">%p</span><br><span class="line">The locale’s equivalent of the AM/PM designations associated with a 12-hour clock.</span><br><span class="line"></span><br><span class="line">%r</span><br><span class="line">The locale’s 12-hour clock time. (This is ‘%I:%M:%S %p’ in the &quot;C&quot; locale.)</span><br><span class="line"></span><br><span class="line">%R</span><br><span class="line">Equivalent to specifying ‘%H:%M’.</span><br><span class="line"></span><br><span class="line">%S</span><br><span class="line">The second as a decimal number (00–60).</span><br><span class="line"></span><br><span class="line">%t</span><br><span class="line">A TAB character.</span><br><span class="line"></span><br><span class="line">%T</span><br><span class="line">Equivalent to specifying ‘%H:%M:%S’.</span><br><span class="line"></span><br><span class="line">%u</span><br><span class="line">The weekday as a decimal number (1–7). Monday is day one.</span><br><span class="line"></span><br><span class="line">%U</span><br><span class="line">The week number of the year (with the first Sunday as the first day of week one) as a decimal number (00–53).</span><br><span class="line"></span><br><span class="line">%V</span><br><span class="line">The week number of the year (with the first Monday as the first day of week one) as a decimal number (01–53). The method for determining the week number is as specified by ISO 8601. (To wit: if the week containing January 1 has four or more days in the new year, then it is week one; otherwise it is the last week [52 or 53] of the previous year and the next week is week one.)</span><br><span class="line"></span><br><span class="line">%w</span><br><span class="line">The weekday as a decimal number (0–6). Sunday is day zero.</span><br><span class="line"></span><br><span class="line">%W</span><br><span class="line">The week number of the year (with the first Monday as the first day of week one) as a decimal number (00–53).</span><br><span class="line"></span><br><span class="line">%x</span><br><span class="line">The locale’s “appropriate” date representation. (This is ‘%A %B %d %Y’ in the &quot;C&quot; locale.)</span><br><span class="line"></span><br><span class="line">%X</span><br><span class="line">The locale’s “appropriate” time representation. (This is ‘%T’ in the &quot;C&quot; locale.)</span><br><span class="line"></span><br><span class="line">%y</span><br><span class="line">The year modulo 100 as a decimal number (00–99).</span><br><span class="line"></span><br><span class="line">%Y</span><br><span class="line">The full year as a decimal number (e.g., 2015).</span><br><span class="line"></span><br><span class="line">%z</span><br><span class="line">The time zone offset in a ‘+HHMM’ format (e.g., the format necessary to produce RFC 822/RFC 1036 date headers).</span><br><span class="line"></span><br><span class="line">%Z</span><br><span class="line">The time zone name or abbreviation; no characters if no time zone is determinable.</span><br><span class="line"></span><br><span class="line">%Ec %EC %Ex %EX %Ey %EY %Od %Oe %OH</span><br><span class="line">%OI %Om %OM %OS %Ou %OU %OV %Ow %OW %Oy</span><br><span class="line">“Alternative representations” for the specifications that use only the second letter (‘%c’, ‘%C’, and so on).57 (These facilitate compliance with the POSIX date utility.)</span><br><span class="line"></span><br><span class="line">%%</span><br><span class="line">A literal ‘%’.</span><br><span class="line"></span><br><span class="line">If a conversion specifier is not one of those just listed, the behavior is undefined.58</span><br><span class="line"></span><br><span class="line">For systems that are not yet fully standards-compliant, gawk supplies a copy of strftime() from the GNU C Library. It supports all of the just-listed format specifications. If that version is used to compile gawk (see Installation), then the following additional format specifications are available:</span><br><span class="line"></span><br><span class="line">%k</span><br><span class="line">The hour (24-hour clock) as a decimal number (0–23). Single-digit numbers are padded with a space.</span><br><span class="line"></span><br><span class="line">%l</span><br><span class="line">The hour (12-hour clock) as a decimal number (1–12). Single-digit numbers are padded with a space.</span><br><span class="line"></span><br><span class="line">%s</span><br><span class="line">The time as a decimal timestamp in seconds since the epoch.</span><br></pre></td></tr></table></figure>
<p>refers :<br><a href="https://www.gnu.org/software/gawk/manual/html_node/Time-Functions.html" target="_blank" rel="noopener">The GNU Awk User&rsquo;s Guide: Time Functions</a><br><a href="https://www.tutorialspoint.com/awk/awk_time_functions.htm" target="_blank" rel="noopener">AWK - Time Functions</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Linux/" rel="tag"># Linux</a>
          
            <a href="/tags/awk/" rel="tag"># awk</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/11/02/How-to-check-if-a-disk-is-SSD-or-HDD/" rel="next" title="How to check if a disk is SSD or HDD">
                <i class="fa fa-chevron-left"></i> How to check if a disk is SSD or HDD
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/12/11/Gluster-filename-and-GFID/" rel="prev" title="Gluster filename and GFID interconversion">
                Gluster filename and GFID interconversion <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/me.jpg"
               alt="Wenhan Shi" />
          <p class="site-author-name" itemprop="name">Wenhan Shi</p>
           
              <p class="site-description motion-element" itemprop="description">Ubuntu/RHEL Docker/k8s/OpenShift/GlusterFS</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">40</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/xibuka" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/wenhan-shi-0883a9132/" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Linkedin
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.douban.com/people/Shibunkan/" target="_blank" title="豆瓣">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  豆瓣
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/xibuka" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#systime"><span class="nav-number">1.</span> <span class="nav-text">systime()</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mktime-YYYY-MM-DD-HH-MM-SS"><span class="nav-number">2.</span> <span class="nav-text">mktime(YYYY MM DD HH MM SS)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#strftime"><span class="nav-number">3.</span> <span class="nav-text">strftime()</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>

  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <!-- ad start -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 自适应单元 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2422626403812806"
     data-ad-slot="1454707894"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- ad end -->

<div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wenhan Shi</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://xibuka.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://wenhan.blog/2017/11/24/AWK-time-functions/';
          this.page.identifier = '2017/11/24/AWK-time-functions/';
          this.page.title = 'AWK - time functions';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://xibuka.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  













  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("90wEGXD7uoUqTufkP5rUni2y-gzGzoHsz", "4vhv6NPtEfNUWFOd4v5ktPSk");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  

</body>
</html>
