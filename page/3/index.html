<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Wenhan Shi Blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Wenhan Shi"><meta name=description content="Beware the dark side"><meta name=keywords content="Ubuntu,RHEL,Docker,Kubernetes,OpenShift,GlusterFS"><meta name=generator content="Hugo 0.62.2 with theme even"><link rel=canonical href=https://wenhan.blog/><link href=https://wenhan.blog/index.xml rel=alternate type=application/rss+xml title="Wenhan Shi Blog"><link href=https://wenhan.blog/index.xml rel=feed type=application/rss+xml title="Wenhan Shi Blog"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link href=/dist/even.c2a46f00.min.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="Wenhan Shi Blog"><meta property="og:description" content="Beware the dark side"><meta property="og:type" content="website"><meta property="og:url" content="https://wenhan.blog/"><meta property="og:updated_time" content="2023-01-27T11:42:28+09:00"><meta itemprop=name content="Wenhan Shi Blog"><meta itemprop=description content="Beware the dark side"><meta name=twitter:card content="summary"><meta name=twitter:title content="Wenhan Shi Blog"><meta name=twitter:description content="Beware the dark side"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-2422626403812806 data-ad-slot=1454707894 data-ad-format=auto></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>WenhanBlog</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>WenhanBlog</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li></ul></nav><div class=social-links><a href=mailto:shibunkan@gmail.com class="iconfont icon-email" title=email></a><a href=https://twitter.com/shi_wenhan class="iconfont icon-twitter" title=twitter></a><a href=https://www.linkedin.com/in/wenhan-shi-0883a9132/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://github.com/xibuka class="iconfont icon-github" title=github></a><a href=https://www.zhihu.com/people/xibuka class="iconfont icon-zhihu" title=zhihu></a><a href=https://wenhan.blog/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div></header><main id=main class=main><div class=content-wrapper><div id=content class=content><section id=posts class=posts><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/certified-kubernetes-administrator-cka-learning-note/>Certified Kubernetes Administrator (CKA) learning note</a></h1><div class=post-meta><span class=post-time>2018-08-29</span>
<span class=more-meta>2510 words</span>
<span class=more-meta>12 mins read</span></div></header><div class=post-content><div class=post-summary>Install Install docker.io 1 apt install docker.io If you install docker with other cgroup driver, you have to make sure that docker and Kubernetes will use same cgroup driver.
1 2 3 4 5 cat &lt;&lt; EOF >> /etc/docker/daemon.json { "exec-opts": ["native.cgroupdriver=systemd"] } EOF install apt key and source to system 1 2 3 4 5 root@kube-master:~# curl -s https://packages.</div><div class=read-more><a href=/post/certified-kubernetes-administrator-cka-learning-note/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/juju-use-juju-to-deploy-minecraft-server-in-lxd/>[Juju] Use juju to deploy minecraft server in LXD</a></h1><div class=post-meta><span class=post-time>2018-06-28</span>
<span class=more-meta>2164 words</span>
<span class=more-meta>11 mins read</span></div></header><div class=post-content><div class=post-summary>Juju is a deploy tool which supports a very wide range of cloud providers, like AWS, Azure, Google Cloud Platform, MAAS and LXD. This artcle will focus on how to build an OpenStack test environment using Juju and LXD.
installing LXD It is very easy to install LXD, just run below command
1 $ sudo apt-install lxd If you can't find lxd package, run below command to add PPA(Personal Package Archive) to find LXD package.</div><div class=read-more><a href=/post/juju-use-juju-to-deploy-minecraft-server-in-lxd/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/suspend-issue-on-thinkpad-x1c-6th-with-ubuntu-18-04/>Suspend issue on Thinkpad X1C 6th with Ubuntu 18.04</a></h1><div class=post-meta><span class=post-time>2018-06-11</span>
<span class=more-meta>203 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-content><div class=post-summary>S3 Suspend not supported by default There is an issue about suspend on Thinkpad X1 Carbon when using Ubuntu 18.04. When you close the lid suspend does not works well. It will continue cose some power and get you laptop hot.
The root cause is the 6th gen X1 Carbon supports S0i3(Which is also known as Windows Modern Standby) but does not support the S3 sleep state.
S0i3 sleep support After some researching, the workaround can be this:</div><div class=read-more><a href=/post/suspend-issue-on-thinkpad-x1c-6th-with-ubuntu-18-04/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/error-failed-container-creation-failed-to-load-raw-lxc/>Error: Failed container creation: Failed to load raw.lxc</a></h1><div class=post-meta><span class=post-time>2018-06-04</span>
<span class=more-meta>168 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-content><div class=post-summary>I follow below URL to try to install and test MaaS,
https://docs.maas.io/2.1/en/installconfig-lxd-install
At the profile edit part, from above documents
lxc profile edit maas replace the {} after config with the following (excluding config:): 1 2 3 4 5 6 config: raw.lxc: |- lxc.cgroup.devices.allow = c 10:237 rwm lxc.aa_profile = unconfined lxc.cgroup.devices.allow = b 7:* rwm security.privileged: "true" At the launch step, I hit below issue, 1 2 3 $ lxc launch -p maas ubuntu:16.</div><div class=read-more><a href=/post/error-failed-container-creation-failed-to-load-raw-lxc/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/getting-started-with-ansible-jp-basic/>Ansible 入門 - 基本操作(チュートリアル)</a></h1><div class=post-meta><span class=post-time>2018-04-09</span>
<span class=more-meta>8964 words</span>
<span class=more-meta>18 mins read</span></div></header><div class=post-content><div class=post-summary>こちらの記事はではAnsibleを紹介するための文章で、元Red Hat社員のJingjing Shiが作成し、Wenhan Shiが日本語に翻訳</div><div class=read-more><a href=/post/getting-started-with-ansible-jp-basic/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/getting-started-with-ansible-jp-adv/>Ansible 入門 - 応用</a></h1><div class=post-meta><span class=post-time>2018-04-09</span>
<span class=more-meta>13572 words</span>
<span class=more-meta>28 mins read</span></div></header><div class=post-content><div class=post-summary>こちらの記事はではAnsibleを紹介するための文章で、元Red Hat社員のJingjing Shiが作成し、Wenhan Shiが日本語に翻訳</div><div class=read-more><a href=/post/getting-started-with-ansible-jp-adv/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/getting-started-with-ansible-jp-intro/>Ansible 入門 - 紹介</a></h1><div class=post-meta><span class=post-time>2018-04-09</span>
<span class=more-meta>1852 words</span>
<span class=more-meta>4 mins read</span></div></header><div class=post-content><div class=post-summary>こちらの記事はではAnsibleを紹介するための文章で、元Red Hat社員のJingjing Shiが作成し、Wenhan Shiが日本語に翻訳</div><div class=read-more><a href=/post/getting-started-with-ansible-jp-intro/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/the-different-between-server-side-heal-and-client-side-heal-in-glusterfs/>The difference between server-side healing and client-side healing in GlusterFS</a></h1><div class=post-meta><span class=post-time>2018-03-26</span>
<span class=more-meta>221 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary>There are 2 kinds of healing functions in GlusterFS, server-side heal and client-side heal.
Server side heal is automatically executed by self-heal daemon on all gluster server nodes. It does healing by crawling file/directory information from .glusterfs directory on brick path. So it will keep the file-data and meta-data to be consistent from server side.
Client side heal is different, it will triggers heal for the particular file whenever client accesses files from mount path, which means a file operation on file descriptor.</div><div class=read-more><a href=/post/the-different-between-server-side-heal-and-client-side-heal-in-glusterfs/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/failed-at-yum-update-and-how-to-fix-it/>failed at yum update and how to fix it</a></h1><div class=post-meta><span class=post-time>2018-02-18</span>
<span class=more-meta>293 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary>I hit an error when running yum update on my centOS 7, the command failed to update my OS!
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 # yum update Loaded plugins: fastestmirror Determining fastest mirrors * base: centos.gbeservers.com * epel: linux.mirrors.es.net * extras: linux.mirrors.es.net * ius: hkg.</div><div class=read-more><a href=/post/failed-at-yum-update-and-how-to-fix-it/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/docker-basic-foundation/>Docker basic foundation</a></h1><div class=post-meta><span class=post-time>2018-02-18</span>
<span class=more-meta>471 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary>Base on CentOS 7, Docker 1.12.6
Install Docker Some pre-requirment to install Docker to a Linux OS.
Docker only can be installed on a 64 bit OS. Kernel version over 3.10 is recommended. recommend Need to enable cgroup and namespace. Now it is easier to install Docker in CentOS or Fedora, it can be searched by yum command like below:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # yum search docker | grep ^docker docker-client.</div><div class=read-more><a href=/post/docker-basic-foundation/ class=read-more-link>Read more...</a></div></div></article></section><nav class=pagination><a class=prev href=/page/2/><i class="iconfont icon-left"></i><span class=prev-text>Prev</span></a>
<a class=next href=/page/4/><span class=next-text>Next</span>
<i class="iconfont icon-right"></i></a></nav></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:shibunkan@gmail.com class="iconfont icon-email" title=email></a><a href=https://twitter.com/shi_wenhan class="iconfont icon-twitter" title=twitter></a><a href=https://www.linkedin.com/in/wenhan-shi-0883a9132/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://github.com/xibuka class="iconfont icon-github" title=github></a><a href=https://www.zhihu.com/people/xibuka class="iconfont icon-zhihu" title=zhihu></a><a href=https://wenhan.blog/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span></span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span></span></div><span class=copyright-year>&copy;
2016 -
2023
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>Wenhan Shi</span></span>
<script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-2422626403812806 data-ad-slot=1454707894 data-ad-format=auto></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/dist/even.26188efa.min.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-87273435-2','auto');ga('set','anonymizeIp',true);ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>